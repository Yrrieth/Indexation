"undefined"==typeof cg_player&&(cg_player=["youtube","dailymotion"]),"undefined"==typeof cg_onlyOneAd&&(cg_onlyOneAd=!1),"undefined"==typeof cg_autoInit&&(cg_autoInit=!0),"undefined"==typeof cg_targetDOMSelector&&(cg_targetDOMSelector=!1);var siteid=sas_pageid.split("/")[0],pageid=sas_pageid.split("/")[1],formatid=14609,ua=window.navigator.userAgent,cgAdPlayerInitFired=void 0===cgAdPlayerInitFired?0:cgAdPlayerInitFired,cg_width=void 0===cg_width?[]:cg_width,cg_height=void 0===cg_height?[]:cg_height,adsLoaderList=[],countdownTimer=[];function cgAdPlayerInit(){cgAdPlayerInitFired||(cgAdPlayerInitFired=1,loadScript("//imasdk.googleapis.com/js/sdkloader/ima3.js",function(){if(cg_targetDOMSelector)var e=document.querySelectorAll(cg_targetDOMSelector)[0];else e=document;var t=e.getElementsByTagName("iframe"),a=Array.prototype.slice.call(t);length=a.length;for(var n=0;n<length&&(!isPlayerAllowed(cg_player,a[n])||(function(){var e=a[n],t=document.createElement("div"),i=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e),t.appendChild(i),width=parseInt(getComputedStyle(e).getPropertyValue("width")),height=parseInt(getComputedStyle(e).getPropertyValue("height")),cg_width[e.id]=width,cg_height[e.id]=height,t.setAttribute("id","cg_mainContainer_"+n),t.setAttribute("class","cg_ads_container"),t.style.width=width+"px",t.style.height=height+"px",t.style.position="relative",t.style.cursor="pointer",t.style.margin="auto",i.setAttribute("id","cg_adContainer_"+n),i.style.width=width+"px",i.style.height=height+"px",i.style.left="0px",i.style.top="0px",i.style.position="absolute";var d=document.createElement("div");d.setAttribute("id","cg_textElement_"+n),i.appendChild(d),d.style.position="absolute",d.style.bottom="0.5rem",d.style.right="0.5rem",d.style.padding="0.3rem",d.style.textAlign="center",d.style.zIndex="200000",d.style.display="none",d.style.backgroundColor="rgba(0, 0, 0, 0.5)",d.style.color="White",d.innerHTML+="Publicité",google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),adDisplayContainer=new google.ima.AdDisplayContainer(i),adDisplayContainer.initialize(),i.getElementsByTagName("iframe")[0].height="0px",adContainerVideo=document.querySelectorAll("#cg_adContainer_"+n+" video");for(var o=0;o<adContainerVideo.length;o++)adContainerVideo[o].style.textAlign="left",adContainerVideo[o].style.left=0;adsLoader=new google.ima.AdsLoader(adDisplayContainer),adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){onAdsManagerLoaded.call(this,t,i,e)},!1),adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){onAdError.call(this,t,i,e)},!1),adsLoaderList[n]=adsLoader,adsRequest=new google.ima.AdsRequest,adsRequest.adTagUrl="//diff.smartadserver.com/ac?siteid="+siteid+"&pgid="+pageid+"&fmtid="+formatid+"&oc=1&pb=0&visit=S&out=vast3&vcn=s&tmstp="+Date.now(),adsRequest.linearAdSlotWidth=640,adsRequest.linearAdSlotHeight=400,adsRequest.nonLinearAdSlotWidth=640,adsRequest.nonLinearAdSlotHeight=400,-1!==e.src.indexOf("autoplay=1")||-1!==e.src.indexOf("autoPlay=1")?(e.src=e.src.replace("autoplay=1","").replace("autoPlay=1",""),isMobile(ua)?t.addEventListener("click",startAds):adsLoader.requestAds(adsRequest)):t.addEventListener("click",startAds)}(),!cg_onlyOneAd));n++);}))}function startAds(e){id=e.target.id.replace("cg_adContainer_",""),adsLoaderList[id].requestAds(adsRequest),document.getElementById("cg_mainContainer_"+id).removeEventListener("click",startAds),document.getElementById("cg_textElement_"+id).style.display="block"}function contentEndedListener(){adsLoader.contentComplete()}function onAdsManagerLoaded(e,t,a){adsManager=e.getAdsManager(a),adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){onAdError.call(this,e,t,a)}),adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(e){onContentPauseRequested.call(this,e,t,a)}),adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(e){onContentResumeRequested.call(this,e,t,a)}),adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){onAdEvent.call(this,e,t,a)}),adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){onAdEvent.call(this,e,t,a)}),adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(e){onAdEvent.call(this,e,t,a)}),adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,function(e){onAdEvent.call(this,e,t,a)});try{adsManager.init(cg_width[a.id],cg_height[a.id],google.ima.ViewMode.NORMAL),adsManager.start()}catch(e){}}function onContentPauseRequested(e,t,a){}function onContentResumeRequested(e,t,a){}function onAdEvent(e,t,a){var n=e.getAd();switch(e.type){case google.ima.AdEvent.Type.LOADED:n.isLinear();break;case google.ima.AdEvent.Type.STARTED:countdownTimer[a.id]=setInterval(function(){var e=adsManager.getRemainingTime();document.getElementById("cg_textElement"+a.parentNode.id.replace("cg_mainContainer","")).innerHTML="Publicité "+Math.floor(e)+" secondes restantes"},1e3),n.isLinear();break;case google.ima.AdEvent.Type.COMPLETE:t.style.display="none",playIframe(a),countdownTimer[a.id]&&clearInterval(countdownTimer[a.id]);break;case google.ima.AdEvent.Type.SKIPPED:t.style.display="none",playIframe(a)}}function onAdError(e,t,a){console.log("error"),console.log(e),t.remove(),playIframe(a)}function isMobile(e){return e.toLowerCase().indexOf("android")>0?(fz_enable_yt_api=!1,!0):e.toLowerCase().indexOf("ipod")>0||e.toLowerCase().indexOf("iphone")>0||e.toLowerCase().indexOf("ipad")>0||e.toLowerCase().indexOf("mobile")>0}function isPlayerAllowed(e,t){for(var a=0;a<e.length;a++)if(-1!==t.src.indexOf(e[a]))return!0;return!1}function loadScript(e,t){var a=document.createElement("script");a.type="text/javascript",a.src=e,document.getElementsByTagName("head")[0].appendChild(a),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()}}function unmuteSound(e,t,a){a.muted=!1,t.setVolume(1)}function muteSound(e,t,a){a.muted=!0,t.setVolume(0)}function playIframe(e){mute="&mute=1",-1!==e.src.indexOf("autoplay=1")?e.src=e.src+mute:-1!==e.src.indexOf("autoplay=0")?e.src=e.src.replace("autoplay=0","autoplay=1")+mute:-1!==e.src.indexOf("autoplay=")?e.src=e.src.replace("autoplay=","autoplay=1")+mute:-1!==e.src.indexOf("?")?e.src+="&autoplay=1"+mute:e.src+="?autoplay=1"+mute}!cgAdPlayerInitFired&&cg_autoInit&&cgAdPlayerInit();